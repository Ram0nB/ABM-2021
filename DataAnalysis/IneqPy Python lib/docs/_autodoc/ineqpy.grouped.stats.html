

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>ineqpy.grouped.stats module &mdash; IneqPy 0.1.1-rc1+42.ge6bc0f7.dirty documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  

  

  
        <link rel="index" title="Index"
              href="../genindex.html"/>
        <link rel="search" title="Search" href="../search.html"/>
    <link rel="top" title="IneqPy 0.1.1-rc1+42.ge6bc0f7.dirty documentation" href="../index.html"/>
        <link rel="up" title="ineqpy.grouped package" href="ineqpy.grouped.html"/>
        <link rel="next" title="ineqpy.api module" href="ineqpy.api.html"/>
        <link rel="prev" title="ineqpy.grouped.inequality module" href="ineqpy.grouped.inequality.html"/> 

  
  <script src="../_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="../index.html" class="icon icon-home"> IneqPy
          

          
          </a>

          
            
            
              <div class="version">
                0.1.1-rc1+42.ge6bc0f7.dirty
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../quickstart.html">Quickstart</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="ineqpy.html">ineqpy package</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="ineqpy.html#subpackages">Subpackages</a><ul class="current">
<li class="toctree-l3 current"><a class="reference internal" href="ineqpy.grouped.html">ineqpy.grouped package</a><ul class="current">
<li class="toctree-l4 current"><a class="reference internal" href="ineqpy.grouped.html#submodules">Submodules</a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="ineqpy.html#submodules">Submodules</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API reference</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">IneqPy</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html">Docs</a> &raquo;</li>
        
          <li><a href="ineqpy.html">ineqpy package</a> &raquo;</li>
        
          <li><a href="ineqpy.grouped.html">ineqpy.grouped package</a> &raquo;</li>
        
      <li>ineqpy.grouped.stats module</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="../_sources/_autodoc/ineqpy.grouped.stats.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="module-ineqpy.grouped.stats">
<span id="ineqpy-grouped-stats-module"></span><h1>ineqpy.grouped.stats module<a class="headerlink" href="#module-ineqpy.grouped.stats" title="Permalink to this headline">¶</a></h1>
<dl class="function">
<dt id="ineqpy.grouped.stats.moment_group">
<code class="descclassname">ineqpy.grouped.stats.</code><code class="descname">moment_group</code><span class="sig-paren">(</span><em>data=None</em>, <em>variable='x'</em>, <em>weights='w'</em>, <em>group='h'</em>, <em>order=2</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ineqpy/grouped/stats.html#moment_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ineqpy.grouped.stats.moment_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculates the asymmetry of each <cite>h</cite> stratum.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>variable</strong> (<em>array or str</em>)</li>
<li><strong>weights</strong> (<em>array or str</em>)</li>
<li><strong>group</strong> (<em>array or str</em>)</li>
<li><strong>data</strong> (<em>pd.DataFrame, optional</em>)</li>
<li><strong>order</strong> (<em>int, optional</em>)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>moment_of_order</strong> (<em>float</em>)</p>
</td>
</tr>
</tbody>
</table>
<div class="admonition-todo admonition" id="index-0">
<p class="first admonition-title">Todo</p>
<p>Review calculations, it does not appear to be correct.
Attempt to make a generalization of vhat_group, for any estimator.</p>
<div class="last admonition warning">
<p class="first admonition-title">Warning</p>
<p class="last">Actually Does Not Work!</p>
</div>
</div>
</dd></dl>

<dl class="function">
<dt id="ineqpy.grouped.stats.quasivariance_hat_group">
<code class="descclassname">ineqpy.grouped.stats.</code><code class="descname">quasivariance_hat_group</code><span class="sig-paren">(</span><em>variable=None</em>, <em>weights=None</em>, <em>group=None</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ineqpy/grouped/stats.html#quasivariance_hat_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ineqpy.grouped.stats.quasivariance_hat_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Sample variance of <cite>variable</cite>, calculated as the second-order central
moment.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pd.DataFrame, optional</em>) – pd.DataFrame that contains all variables needed.</li>
<li><strong>variable</strong> (<em>array or str</em>) – variable <cite>x</cite> apply the statistic. If <cite>data</cite> is None then must pass this
argument as array, else as string name in <cite>data</cite></li>
<li><strong>weights</strong> (<em>array or str</em>) – weights can be interpreted as frequency, probability,
density function of <cite>x</cite>, each element in <cite>x</cite>. If <cite>data</cite> is None then
must pass this argument as array, else as string name in <cite>data</cite></li>
<li><strong>group</strong> (<em>array or str</em>) – group is a categorical variable to calculate the statistical by each
group. If <cite>data</cite> is None then must pass this argument as array, else as
string name in <cite>data</cite></li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>shat2_group</strong> (<em>array or pd.Series</em>)</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">References</p>
<p>Moment (mathematics). (2017, May 6). In Wikipedia, The Free Encyclopedia.
Retrieved 14:40, May 15, 2017, from
<a class="reference external" href="https://en.wikipedia.org/w/index.php?title=Moment_(mathematics)&amp;oldid=778996402">https://en.wikipedia.org/w/index.php?title=Moment_(mathematics)&amp;oldid=778996402</a></p>
<p class="rubric">Notes</p>
<p>This function is useful to calculate the variance of the mean.</p>
<div class="admonition-todo admonition" id="index-1">
<p class="first admonition-title">Todo</p>
<p class="last">Review function</p>
</div>
</dd></dl>

<dl class="function">
<dt id="ineqpy.grouped.stats.variance_hat_group">
<code class="descclassname">ineqpy.grouped.stats.</code><code class="descname">variance_hat_group</code><span class="sig-paren">(</span><em>data=None</em>, <em>variable='x'</em>, <em>weights='w'</em>, <em>group='h'</em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/ineqpy/grouped/stats.html#variance_hat_group"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#ineqpy.grouped.stats.variance_hat_group" title="Permalink to this definition">¶</a></dt>
<dd><p>Data a DataFrame calculates the sample variance for each stratum. The
objective of this function is to make it easy to calculate the moments of
the distribution that follows an estimator, eg. Can be used to calculate
the variance that follows the mean.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> (<em>pandas.DataFrame</em>) – Dataframe containing the series needed for the calculation</li>
<li><strong>x</strong> (<em>str</em>)</li>
<li><strong>weights</strong> (<em>str</em>) – Name of the weights <cite>w</cite> in the DataFrame</li>
<li><strong>group</strong> (<em>str</em>) – Name of the stratum variable <cite>h</cite> in the DataFrame</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last"><strong>vhat_h</strong> (<em>pandas.Series</em>) – A series with the values of the variance of each <cite>h</cite> stratum.</p>
</td>
</tr>
</tbody>
</table>
<p class="rubric">Notes</p>
<div class="admonition-todo admonition" id="index-2">
<p class="first admonition-title">Todo</p>
<p class="last">Review improvements.</p>
</div>
<p class="rubric">Examples</p>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># Computes the variance of the mean</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">data</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="n">renta</span><span class="p">,</span> <span class="n">peso</span><span class="p">,</span> <span class="n">estrato</span><span class="p">],</span>
<span class="go">                        columns=[&quot;renta&quot;, &quot;peso&quot;, &quot;estrato&quot;])</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span> <span class="o">=</span> <span class="n">variance_hat_group</span><span class="p">(</span><span class="n">data</span><span class="p">)</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v</span>
<span class="go">stratum</span>
<span class="go">1                700.917.728,64</span>
<span class="go">2              9.431.897.980,96</span>
<span class="go">3            317.865.839.789,10</span>
<span class="go">4            741.304.873.092,88</span>
<span class="go">5            535.275.436.859,10</span>
<span class="go">6            225.573.783.240,68</span>
<span class="go">7            142.048.272.010,63</span>
<span class="go">8             40.136.989.131,06</span>
<span class="go">9             18.501.808.022,56</span>
<span class="go">dtype: float64</span>
</pre></div>
</div>
<div class="highlight-default"><div class="highlight"><pre><span></span><span class="gp">&gt;&gt;&gt; </span><span class="c1"># the value of de variance of the mean:</span>
<span class="gp">&gt;&gt;&gt; </span><span class="n">v_total</span> <span class="o">=</span> <span class="n">v</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">/</span> <span class="n">peso</span><span class="o">.</span><span class="n">sum</span><span class="p">()</span> <span class="o">**</span> <span class="mi">2</span>
<span class="go">    24662655225.947945</span>
</pre></div>
</div>
</dd></dl>

</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="ineqpy.api.html" class="btn btn-neutral float-right" title="ineqpy.api module" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="ineqpy.grouped.inequality.html" class="btn btn-neutral" title="ineqpy.grouped.inequality module" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright .

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'../',
            VERSION:'0.1.1-rc1+42.ge6bc0f7.dirty',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="../_static/jquery.js"></script>
      <script type="text/javascript" src="../_static/underscore.js"></script>
      <script type="text/javascript" src="../_static/doctools.js"></script>
      <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  

  
  
    <script type="text/javascript" src="../_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>